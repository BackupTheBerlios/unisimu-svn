\documentclass{article}

\usepackage{CJK}
\usepackage{amsmath}

\makeindex
\begin{document}

\begin{CJK}{GBK}{song}

\section{1000! 后有多少个\ 0?}

对 1000 进行质因数分解得

\[
    1000! = 2^{P_2} 3^{P_3} 5^{P_5} 7^{P_7} \cdots
\]

从中我们不难发现, 考察 1000! 后有多少个零就等价于考察 1000! 的
所有质因子中含有多少对\ 2 和\ 5. 因为在所有质因子的乘积中只有
$2 \times 5 = 10$.

由于 1000! 中所含的 2 和 5 这两个质因子的数目不一定相等, 因此
要得到 2 和 5 的对数, 只需求出

\[
    min \{ P_2, P_5 \}
\]

一般地, $n!$ 中含有质因子 $m$ 的个数 $P_m$ 可以用下面的式子求得:

\[
    P_m = \left[ \frac{n}{m} \right] +
          \left[ \frac{n}{m^2} \right] +
          \left[ \frac{n}{m^3} \right] +
          \ldots + 0
\]

由该式, 我们不难看出在 $n = 1000$ 的时候, 必有 $P_2 > P_5$. 因此

\[
    P_5 = min \{ P_2, P_5 \}
\]

我们现在来计算 $P_5$:

\begin{eqnarray}
    P_5 & = & \left[ \frac{1000}{5} \right] +
              \left[ \frac{1000}{5^2} \right] +
              \left[ \frac{1000}{5^3} \right] +
              \left[ \frac{1000}{5^4} \right] +
              \left[ \frac{1000}{5^5} \right] \nonumber\\
        & = & 200 + 40 + 8 + 1 + 0 \nonumber\\
        & = & 249 \nonumber
\end{eqnarray}

综上所述, 1000! 后共有 249 个 0.

\section{
    有多少个大于 5400 且满足 ① 每位数上的数值各不相同 ② 
    2 和 7 不出现 这两个性质的整数?
}

根据题意, 这个数只能由 $\{0, 1, 3, 4, 5, 6, 8, 9\}$ 这 8
个数字中的一个或多个构成. 但我们在这里不考虑数 0, 因为根据我们
老师给出的"自然数"的定义, 0 不是自然数.

此外, 为使每位上的数值不相同, 该数最多达到 8 位数. 而大于 5400
的条件又使得该数的位数不能小于 4 位. 于是我们下面就 4 位数、
5 位数、6 位数和 7 位数这 4 种情况分别予以讨论:

\begin{itemize}

\item 

当该数为 4 位数时, 最高位的取法又可分为两种:

\begin{itemize}

\item

当首位为 5 时, 为保证它大于 5400, 次高位只能取集合 $\{4, 6, 8, 9\}$ 中
的一个数字, 其余 2 位则在余下的 $8 - 2 = 6$ 个数中任取. 因此, 此种情况下, 共有

\[
\mathrm{C}_4^1 \cdot \mathrm{P}_6^2 = 60
\]

个数符合条件.

\item

当首位不为 5 时, 为使之大于 5400, 首位只能在集合 $\{6, 8, 9\}$ 中取, 其余
3 位可以在剩下的 $8 - 1 = 7$ 个数中任取. 于在, 此时, 共有

\[
\mathrm{C}_3^1 \cdot \mathrm{P}_7^3 = 105
\]

个数符合条件.

\end{itemize}

\item

当该数为 5 位数时, 首位可以在除 0 以外的 7 个数字
$\{1, 3, 4, 5, 6, 8, 9\}$ 中取. 其余 4 位可以在剩下的 $8 - 1 = 7$ 中任取.

\[
\mathrm{C}_7^1 \cdot \mathrm{P}_7^4 = 245
\]

\item

当该数为 6 位数时, 首位可以在除 0 以外的 7 个数字中取, 其余 5 位可以在剩下的
$8 - 1 = 7$ 中任取.

\[
\mathrm{C}_7^1 \cdot \mathrm{P}_7^5 = 147
\]

\item

当该数为 7 位数时, 首位可以在除 0 以外的 7 个数字中取, 其余 6 位可以在剩下的
$8 - 1 = 7$ 中任取.

\[
\mathrm{C}_7^1 \cdot \mathrm{P}_7^6 = 49
\]

\item

当该数为 8 位数时, 首位可以在除 0 以外的 7 个数字中取, 其余 7 位可以在剩下的
$8 - 1 = 7$ 中任取.

\[
\mathrm{C}_7^1 \cdot \mathrm{P}_7^7 = 7
\]

\end{itemize}

\end{CJK}

\end{document}
