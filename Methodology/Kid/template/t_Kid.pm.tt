[% DEFAULT
    name = 'Perl';
   USE Perl;
-%]
[% method = Perl.lc(name);
   module = name.replace('_', '::');
   module = 'Kid::' _ module;
-%]
#: t/Kid_[% name %].pm
#: This file was generated from [% template.name %]

package t::Kid_[% name %];
use Test::Base -Base;
use [% module %];

our @EXPORT = qw(run_tests);

*translate = \&[% module %]::translate;

sub run_tests {
    for my $block (blocks()) {
        if ($block->[% method %]) {
            is translate($block->kid), $block->[% method %], $block->name;
        } elsif ($block->error) {
            ok !defined translate($block->kid), $block->name;
        }
    }
}

1;