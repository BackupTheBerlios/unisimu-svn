<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<meta HTTP-EQUIV="content-type" CONTENT="text/html; charset=gb2312">
<head>
<title>实验四 - 数据库的统计输出实验</title>
<link rel="stylesheet" href="Active.css" type="text/css" />
<link rev="made" href="mailto:" />
</head>

<body>
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="block" valign="middle">
<big><strong><span class="block">&nbsp;实验四 - 数据库的统计输出实验</span></strong></big>
</td></tr>
</table>

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#NAME">NAME</a></li>
	<li><a href="#AUTHOR">AUTHOR</a></li>
	<li><a href="#VERSION">VERSION</a></li>
	<li><a href="#cab5d1e9c4bfb5c4">实验目的</a></li>
	<li><a href="#cab5d1e9c4dac8dd">实验内容</a></li>
	<li><a href="#cab5d1e9bde1b9fb">实验结果</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="NAME">NAME</a></h1>
<p>实验四 - 数据库的统计输出实验</p>
<p>
</p>
<hr />
<h1><a name="AUTHOR">AUTHOR</a></h1>
<p>章亦春 &lt;<a href="mailto:agent2002@126.com">agent2002@126.com</a>&gt;</p>
<p>3030602110 计算机 0304 班</p>
<p>计算机科学与通信工程学院 江苏大学</p>
<p>
</p>
<hr />
<h1><a name="VERSION">VERSION</a></h1>
<pre>
   Maintainer: Agent Zhang &lt;agent2002@126.com&gt;
   Date: 9 Dec 2005
   Last Modified: 9 Dec 2005
   Version: 0.01</pre>
<p>
</p>
<hr />
<h1><a name="cab5d1e9c4bfb5c4">实验目的</a></h1>
<p>熟练掌握和使用分组查询和函数查询的使用方法，完成数据查询
中的统计、计算输出的操作方法。</p>
<p>
</p>
<hr />
<h1><a name="cab5d1e9c4dac8dd">实验内容</a></h1>
<ol>
<li></li>
找出向北京供应商购买重量大于 30 的零件的工程号
<p></p>
<li></li>
找出工程项目 J2 使用的各种零件的名称及其数量；
<p></p>
<li></li>
按工程号递增的顺序列出每个工程购买的零件总数；
<p></p>
<li></li>
编程输出如下报表：
<pre>
    <table border=1>
    <tr>
    <td>&nbsp;<B>供应商</B>&nbsp;</td>
    <td>&nbsp;<B>零件</B>&nbsp;</td>
    <td>&nbsp;<B>工程项目</B>&nbsp;</td>
    <td>&nbsp;<B>数量</B>&nbsp;</td>
    </tr>
    </table>
</pre><p></p></ol>
<p>
</p>
<hr />
<h1><a name="cab5d1e9bde1b9fb">实验结果</a></h1>
<ol>
<li></li>
找出向北京供应商购买重量大于 30 的零件的工程号
<pre>
    select distinct JNO
    from S, SPJ, P
    where S.SNO = SPJ.SNO and SPJ.PNO = P.PNO and
        S.CITY = '北京' and P.WEIGHT &gt; 30</pre>
<pre>        <table border=1><tr style="border-top:2px;border-bottom:2px">
<td><font color=blue><B>JNO</B></color></td>
</tr>
<tr>
<td>J1</td>
</tr>
<tr style="border-bottom:2px">
<td>J2</td>
</tr>
</table>
</pre><p></p>
<li></li>
找出工程项目 J2 使用的各种零件的名称及其数量；
<pre>
    select PNAME, sum(QTY) QTY
    from SPJ, P
    where SPJ.PNO = P.PNO and JNO = 'J2'
    group by PNAME</pre>
<pre>        <table border=1><tr style="border-top:2px;border-bottom:2px">
<td><font color=blue><B>PNAME</B></color></td><td><font color=blue><B>QTY</B></color></td>
</tr>
<tr>
<td>齿轮</td>
<td>200</td>
</tr>
<tr>
<td>螺栓</td>
<td>100</td>
</tr>
<tr>
<td>螺丝刀</td>
<td>200</td>
</tr>
<tr style="border-bottom:2px">
<td>凸轮</td>
<td>100</td>
</tr>
</table>
</pre><p></p>
<li></li>
按工程号递增的顺序列出每个工程购买的零件总数；
<pre>
    select JNO, sum(QTY) QTY
    from SPJ
    group by JNO
    order by JNO asc</pre>
<pre>        <table border=1><tr style="border-top:2px;border-bottom:2px">
<td><font color=blue><B>JNO</B></color></td><td><font color=blue><B>QTY</B></color></td>
</tr>
<tr>
<td>J1</td>
<td>1700</td>
</tr>
<tr>
<td>J2</td>
<td>600</td>
</tr>
<tr>
<td>J3</td>
<td>400</td>
</tr>
<tr>
<td>J4</td>
<td>2000</td>
</tr>
<tr style="border-bottom:2px">
<td>J5</td>
<td>400</td>
</tr>
</table>
</pre><p></p>
<li></li>
编程输出如下报表：
<pre>
    <table border=1>
    <tr>
    <td>&nbsp;<B>供应商</B>&nbsp;</td>
    <td>&nbsp;<B>零件</B>&nbsp;</td>
    <td>&nbsp;<B>工程项目</B>&nbsp;</td>
    <td>&nbsp;<B>数量</B>&nbsp;</td>
    </tr>
    </table>
</pre><p>我们使用下面的 SQL 查询来生成报表：</p>
<pre>
    select SNAME 供应商, PNAME 零件, JNAME 工程项目, QTY 数量
    from S, J, P, SPJ
    where S.SNO = SPJ.SNO and J.JNO = SPJ.JNO and P.PNO = SPJ.PNO</pre>
<pre>        <table border=1><tr style="border-top:2px;border-bottom:2px">
<td><font color=blue><B>供应商</B></color></td><td><font color=blue><B>零件</B></color></td><td><font color=blue><B>工程项目</B></color></td><td><font color=blue><B>数量</B></color></td>
</tr>
<tr>
<td>精益</td>
<td>螺母</td>
<td>三建</td>
<td>200</td>
</tr>
<tr>
<td>精益</td>
<td>螺母</td>
<td>弹簧厂</td>
<td>100</td>
</tr>
<tr>
<td>精益</td>
<td>螺母</td>
<td>造船厂</td>
<td>700</td>
</tr>
<tr>
<td>精益</td>
<td>螺栓</td>
<td>一汽</td>
<td>100</td>
</tr>
<tr>
<td>盛锡</td>
<td>螺丝刀</td>
<td>三建</td>
<td>400</td>
</tr>
<tr>
<td>盛锡</td>
<td>螺丝刀</td>
<td>一汽</td>
<td>200</td>
</tr>
<tr>
<td>盛锡</td>
<td>螺丝刀</td>
<td>造船厂</td>
<td>500</td>
</tr>
<tr>
<td>盛锡</td>
<td>螺丝刀</td>
<td>机车厂</td>
<td>400</td>
</tr>
<tr>
<td>盛锡</td>
<td>凸轮</td>
<td>三建</td>
<td>400</td>
</tr>
<tr>
<td>盛锡</td>
<td>凸轮</td>
<td>一汽</td>
<td>100</td>
</tr>
<tr>
<td>东方红</td>
<td>螺母</td>
<td>三建</td>
<td>200</td>
</tr>
<tr>
<td>东方红</td>
<td>螺丝刀</td>
<td>三建</td>
<td>200</td>
</tr>
<tr>
<td>丰泰盛</td>
<td>凸轮</td>
<td>三建</td>
<td>100</td>
</tr>
<tr>
<td>丰泰盛</td>
<td>齿轮</td>
<td>弹簧厂</td>
<td>300</td>
</tr>
<tr>
<td>丰泰盛</td>
<td>齿轮</td>
<td>造船厂</td>
<td>200</td>
</tr>
<tr>
<td>为民</td>
<td>螺栓</td>
<td>造船厂</td>
<td>100</td>
</tr>
<tr>
<td>为民</td>
<td>螺丝刀</td>
<td>三建</td>
<td>200</td>
</tr>
<tr>
<td>为民</td>
<td>齿轮</td>
<td>一汽</td>
<td>200</td>
</tr>
<tr style="border-bottom:2px">
<td>为民</td>
<td>齿轮</td>
<td>造船厂</td>
<td>500</td>
</tr>
</table>
</pre><p></p></ol>
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="block" valign="middle">
<big><strong><span class="block">&nbsp;实验四 - 数据库的统计输出实验</span></strong></big>
</td></tr>
</table>

</body>

</html>
