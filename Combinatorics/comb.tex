\documentclass[a4paper]{article}

\usepackage{CJK}
\usepackage{amsmath}

\makeindex
\begin{document}

\begin{CJK}{GBK}{song}

\section{1000! 后有多少个\ 0?}

对 1000 进行质因数分解得

\[
    1000! = 2^{P_2} 3^{P_3} 5^{P_5} 7^{P_7} \cdots
\]

\noindent 从中我们不难发现, 考察 1000! 后有多少个零就等价于考察 1000! 的%
所有质因子中含有多少对\ 2 和\ 5. 因为在所有质因子的乘积中只有
$2 \times 5 = 10$.

由于 1000! 中所含的 2 和 5 这两个质因子的数目不一定相等, 因此,
要得到 2 和 5 的对数, 只需求出

\[
    min \{ P_2, P_5 \}
\]

一般地, $n!$ 中含有质因子 $m$ 的个数 $P_m$ 可以用下面的式子求得:

\[
    P_m = \left[ \frac{n}{m} \right] +
          \left[ \frac{n}{m^2} \right] +
          \left[ \frac{n}{m^3} \right] +
          \ldots + 0
\]

\noindent 由该式, 我们不难看出在 $n = 1000$ 的时候, 必有 $P_2 > P_5$. 因此,

\[
    P_5 = min \{ P_2, P_5 \}
\]

我们现在来计算 $P_5$:

\begin{eqnarray}
    P_5 & = & \left[ \frac{1000}{5} \right] +
              \left[ \frac{1000}{5^2} \right] +
              \left[ \frac{1000}{5^3} \right] +
              \left[ \frac{1000}{5^4} \right] +
              \left[ \frac{1000}{5^5} \right] \nonumber\\
        & = & 200 + 40 + 8 + 1 + 0 \nonumber\\
        & = & 249 \nonumber
\end{eqnarray}

综上所述, 1000! 后共有 249 个 0.

\section{
    有多少个大于 5400 且满足 ① 每位数上的数值各不相同, ② 
    2 和 7 不出现, 这两个性质的整数?
}

根据题意, 这个数只能由 $\{0, 1, 3, 4, 5, 6, 8, 9\}$ 这 8
个数字中的一个或多个构成. 但我们在这里不考虑数 0, 因为根据我们%
老师给出的"自然数"的定义, 0 不是自然数.

此外, 为使每位上的数值不相同, 该数最多达到 8 位数. 而大于 5400
的条件又使得该数的位数不能小于 4 位. 于是我们下面就 4 位数、
5 位数、6 位数和 7 位数这 4 种情况分别予以讨论:

\begin{itemize}

\item 

当该数为 4 位数时, 最高位的取法又可分为两种:

\begin{itemize}

\item

当首位为 5 时, 为保证它大于 5400, 次高位只能取集合 $\{4, 6, 8, 9\}$ 中%
的一个数字, 其余 2 位则在余下的 $8 - 2 = 6$ 个数中任取. 因此, 此种情况下, 共有

\[
\mathrm{C}_4^1 \cdot \mathrm{P}_6^2 = 120
\]

\noindent 个数符合条件.

\item

当首位不为 5 时, 为使之大于 5400, 首位只能在集合 $\{6, 8, 9\}$ 中取, 其余
3 位可以在剩下的 $8 - 1 = 7$ 个数中任取. 于在, 此时, 共有

\[
\mathrm{C}_3^1 \cdot \mathrm{P}_7^3 = 630
\]

\noindent 个数符合条件.

\end{itemize}

\item

当该数为 5 位数时, 首位可以在除 0 以外的 7 个数字
$\{1, 3, 4, 5, 6, 8, 9\}$ 中取. 其余 4 位可以在剩下的 $8 - 1 = 7$ 中任取.

\[
\mathrm{C}_7^1 \cdot \mathrm{P}_7^4 = 5880
\]

\item

当该数为 6 位数时, 首位可以在除 0 以外的 7 个数字中取, 其余 5 位可以在剩下的
$8 - 1 = 7$ 中任取.

\[
\mathrm{C}_7^1 \cdot \mathrm{P}_7^5 = 17640
\]

\item

当该数为 7 位数时, 首位可以在除 0 以外的 7 个数字中取, 其余 6 位可以在剩下的
$8 - 1 = 7$ 中任取.

\[
\mathrm{C}_7^1 \cdot \mathrm{P}_7^6 = 35280
\]

\item

当该数为 8 位数时, 首位可以在除 0 以外的 7 个数字中取, 其余 7 位可以在剩下的
$8 - 1 = 7$ 中任取.

\[
\mathrm{C}_7^1 \cdot \mathrm{P}_7^7 = 35280
\]

\end{itemize}

综上所述, 共有 $120 + 630 + 5880 + 17640 + 35280 + 35280 = 94830$ 个数满足条件.

\section{
    求恰好有 28 个因子的最小正整数
}

设这个正整数为 $x$, 对它进行质因数分解得到

\[
    x = 2^{\alpha_2} \cdot 3^{\alpha_3} \cdot 5^{\alpha_5} \cdot
        \cdots \cdot p_k^{\alpha_k}
\]

由于在 $x$ 的因子中, 每一个质因子 $p_i$ 分别可以取 $0, 1, 2, \ldots, i$ 个 (即 $i + 1$
种取法), 因此 $x$ 共有

\[
    (\alpha_2 + 1)(\alpha_3 + 1)(\alpha_5 + 1) \cdots (\alpha_k + 1)
\]

\noindent 个不同的因子. 所以得到

\[
    28 = (\alpha_2 + 1)(\alpha_3 + 1)(\alpha_5 + 1) \cdots (\alpha_k + 1)
\]

下面我们要做的就是为 $\alpha_2, \alpha_3, \ldots, \alpha_k$ 这些变量赋值. 一旦每个质因%
子的幂次确定了, $x$ 也就有了.

为使原数 $x$ 最小, 显然应当遵循这个原则: 质因子越小, 赋予的幂次应当越大. 比如, $\alpha_2$
应拥有最高的幂次, $\alpha_3$ 次之, $\alpha_5$ 再次, \ldots 依此类推.

我们把 28 写成连乘积的形式:

\begin{eqnarray}
    28 & = & 28 \times 1 \times 1 \times \cdots \nonumber\\
       & = & 14 \times 2 \times 1  \times 1 \times \cdots \nonumber\\
       & = & 7 \times 4 \times 1 \times 1 \times \cdots \nonumber\\
       & = & 7 \times 2 \times 2 \times 1 \times 1 \times \cdots \nonumber
\end{eqnarray}

\noindent 然后针对每一种不同的连乘积形式进行讨论:

\begin{itemize}

\item

当 $28 = 28 \times 1 \times 1 \times \cdots$ 时, $\alpha_2$ 取 $28 - 1 = 27$,
其余质因子幂次都取 $1 - 1 = 0$, 于是得

\[
    x_1 = 2^{27} \times 3^0 \times 5^0 \times \cdots = 2^{27}
\]

\item

当 $28 = 14 \times 2 \times 1  \times 1 \times \cdots$ 时, $\alpha_2$ 取 $14 - 1 = 13$,
$\alpha_3$ 取 $2 - 1 = 1$, 其余的质因子的幂次都取为 0, 所以得到

\[
    x_2 = 2^{13} \times 3^1 \times 5^0 \times 7^0 \times \cdots = 2^{13} \times 3
\]

\item

当 $28 = 7 \times 4 \times 1 \times 1 \times \cdots$ 时, $\alpha_2$ 取 $7 - 1 = 6$,
$\alpha_3$ 取 $4 - 1 = 3$, 其余的质因子的幂次都取为 0, 所以得到

\[
    x_3 = 2^6 \times 3^3 \times 5^0 \times 7^0 \times \cdots = 2^6 \times 3^3
\]

\item

当 $28 = 7 \times 2 \times 2 \times 1 \times 1 \times \cdots$ 时, $\alpha_2$ 取 $7 - 1 = 6$,
$\alpha_3$ 取 $2 - 1 = 1$, $\alpha_3$ 取 $2 - 1 = 1$, 其余的质因子的幂次都取为 0, 于是有

\[
    x_4 = 2^6 \times 3^1 \times 5^1 \times 7^0 \times 11^0 \times \cdots = 2^6 \times 15
\]

\end{itemize}

综合上述四种情况, 我们可以得出

\[
    x = \min \{ x_1, x_2, x_3, x_4 \} = x_4 = 960
\]

\section{
    证明: 从 $n$ 个不同的元素中取出 $r$ 个作允许重复的组合, 其组合数为 $C^r_{n+r-1}$.
}

我们对这 n 个不同的元素进行编号, 分别为 $1,\ 2,\ 3,\ \ldots,\ n$. 并且, 我们设取出的
r 个允许重复的元素, 其编号自小到大依次为:

\[
    a_1,\ a_2,\ \ldots,\ a_r
\]

\noindent 于是很自然地,

\[
    1 \le a_1 \le a_2 \le \ldots \le a_r \le n
\]


\noindent 进一步, 我们根据

\begin{eqnarray}
    a_1 & < & a_2 + 1 \nonumber\\
    a_2 & < & a_3 + 1 \nonumber\\
    & \ldots & \nonumber\\
    a_{r-1} & < & a_r + 1 \nonumber
\end{eqnarray}

\noindent 得到

\[
    1 \le a_1 < a_2 + 1 < a_3 + 2 < \cdots < a_r + r - 1 \le n + r - 1
\]

不妨令 $b_1 = a_1,\ b_2 = a_2 + 1,\ \ldots,\ b_r = a_r + r - 1$, 于是有

\[
    1 \le b_1 < b_2 < \ldots < b_r \le n + r - 1
\]

我们看到, $b_1,\ b_2,\ \ldots,\ b_r$ 的可以视作从 $n + r - 1$ 个不同的%
元素中取出的 $r$ 个不同的元素所作的组合.

反过来, 假设从 $n + r - 1$ 个编了号的元素中任取了 r 个不相同的元素, 其编号设为
$b_1,\ b_2,\ \ldots,\ b_r$, 于是有

\[
    1 \le b_1 < b_2 < \ldots < b_r \le n + r - 1
\]

同时注意到

\begin{eqnarray}
    b_1 & \le & b_2 - 1 \nonumber\\
    b_2 & \le & b_3 - 1 \nonumber\\
    & \ldots & \nonumber\\
    b_{r-1} & < & b_r - 1 \nonumber
\end{eqnarray}

因此得

\[
    1 \le b_1 \le b_2 - 1 \le b_3 - 2 \le \cdots \le b_{r} - r + 1
    \le n + r - 1 - r + 1 = n
\]

如果令 $a_1 = b_1,\ a_2 = b_2 - 1,\ \ldots,\ a_r = b_r - r + 1$, 则有

\[
    1 \le a_1 \le a_2 \le \ldots \le a_r \le n
\]

\noindent 序列 $a_1,\ a_2,\ \ldots,\ a_r$ 的亦可视作从 $n$ 个不同的元%
素中取出的 r 个元素, 作允许重复的组合.

现在, 我们可以说, 从 $n$ 个不同的元素中任取出 r 个元素作允许重复的组合, 与%
从 $n + r -1$ 个不同元素中任取出 r 个元素作不允许重复的组合之间, 存在着一%
一对应的关系.

所以, 从 $n$ 个不同的元素中任取出 r 个元素作允许重复的组合, 其组合数为
$C^r_{n+r-1}$.

\section{
    证明从 $T = \{1,2,\ldots,n\}$ 中取 $r$ 个作组合，要求没有两个数相邻，
    共有 $C^r_{n-r+1}$ 种取法。
}

设选出的 $r$ 个元素按自小到大排列，依次为

\[
    a_1,\ a_2,\ \ldots,\ a_r
\]

\noindent 故有

\[
    1 \le a_1 < a_2 < \cdots < a_r \le n
\]

因 $a_1,\ a_2,\ \ldots,\ a_r$ 彼此不相邻，故有

\begin{eqnarray}
    a_1 & < & a_2 - 1 \nonumber\\
    a_2 & < & a_3 - 1 \nonumber\\
        & \ldots &    \nonumber\\
    a_r & < & a_{r+1} - 1 \nonumber
\end{eqnarray}

即

\[
    1 \le a_1 < a_2-1 < a_3-2 < \ldots < a_r-r+1 \le n-r+1
\]

令 $b_i = a_i - i + 1$， 得

\[
    1 \le b_1 < b_2 < b_3 < \ldots < b_r \le n-r+1
\]

$b_1,\ b_2,\ \ldots,\ b_r$ 可看作是从 $1 \sim n-r+1$ 这些数中取出
的 $r$ 个没有重复的元素的组合。

反过来，对于从 $1 \sim n-r+1$ 这些数中取出 r 个作不允许重复的组合，
我们设取出的数自小到大依次为

\[
    b_1,\ b_2,\ \ldots,\ b_r
\]

它们满足

\[
    1 \le b_1 < b_2 < \ldots < b_r \le n-r+1
\]

于是有

\begin{eqnarray}
    b_1 & < & b_2 + 1 \nonumber\\
    b_2 & < & b_3 + 1 \nonumber\\
        & \ldots &    \nonumber\\
    b_{r-1} & > & b_r + 1 \nonumber
\end{eqnarray}

进一步，则有

\[
    1 \le b_1 < b_2 + 1 < b_3 + 2 < \cdots < b_r + r - 1 \le n-r+1+r-1 = n
\]

令 $a_i = b_i + i - 1,\ i = 1,2,\ldots,r$，则有

\[
    1 \le a_1 < a_2 < a_3 < \cdots < a_r \le n
\]

这里的 $a_1,\ a_2,\ a_3,\ \ldots,\ a_r$ 可视为从 $1 \sim n$ 中取出的 $r$ 个数作不%
允许重复的组合.

同时注意到对于 $i = 2, 3, 4, \ldots, r$，有

\[
    a_i - a_{i-1} = (b_i+i-1) - (b_{i-1}+i-1-1) = b_i - b_{i-1} + 1
\]

因为 $b_i > b_{i-1}$，即 $b_i - b_{i-1} > 0$，所以有

\[
    a_i - a_{i-1} > 1,\ i = 2,3,4,\ldots,r
\]

所以选出的这 $r$ 个数还是彼此不相邻的数.

综合以上两方面的讨论，我们看到，从 $1 \sim n$ 中取出 $r$ 个作不相邻的组合，与从 $1 \sim n-r+1$
中取出 $r$ 作不允许重复的组合，之间存在着一一对应的关系。

因此，从 $1 \sim n$ 中取出 $r$ 个作不相邻的组合共有 $C^r_{n-r+1}$ 种取法。

\section{
    求 $n$ 位十进制数中出现偶数个 5 的数的个数
}

设 $n$ 位十进制数中出现偶数个 5 的数共有 $a_n$ 个，出现奇数个 5 的个数为 $b_n$ 个。

\noindent 现在我们这样来考虑，假设我们已经得到了 $n-1$ 位数，
我们只要在该数的末尾添加一个数字，它就构成了一个 $n$ 位数。它要么有奇数个 5，那么就有偶数个 5，
因此我们分两种情况来讨论。

\begin{itemize}

\item

假设该 $n$ 位数有偶数个 5，则有两种情况：

\begin{itemize}

\item

如果原先的 $n-1$ 位数中有奇数个 5，则我们必须在它的末尾添加数字 5，才能得到偶数个 5 的 $n$ 位数。
由乘法法则得，这样的 $n$ 位数共有

\[
    b_{n-1} \cdot C_1^1
\]

\item

如果原先的 $n-1$ 位数中已有了偶数个 5，则我们在其末尾添加的数字只要不是 5 就可以了，故有 $C_9^1$
种取法。于是这样的 $n$ 位数共有

\[
    a_{n-1} \cdot C_9^1
\]

\end{itemize}

综合上述两种情形，根据加法法则，具有偶数个 5 的 $n$ 位数共有

\[
    a_n = b_{n-1} \cdot C_1^1 + a_{n-1} \cdot C_9^1
\]

\noindent 个.

\item

假设该 $n$ 位数有奇数个 5，则又有两种情况：

\begin{itemize}

\item

如果原先的 $n-1$ 位数中已有了奇数个 5，则我们在它的末尾添加的数字只要不是 5 就可以了。
由乘法法则，这样的 $n$ 位数共有

\[
    b_{n-1} \cdot C_9^1
\]

\item

如果原先的 $n-1$ 位数中有偶数个 5，则我们在其末尾添加的数字必须是 5 才行。
于是这样的 $n$ 位数共有

\[
    a_{n-1} \cdot C_1^1
\]

\end{itemize}

综合上述两种情形，根据加法法则，具有奇数个 5 的 $n$ 位数的个数满足

\[
    b_n = b_{n-1} \cdot C_9^1 + a_{n-1} \cdot C_1^1
\]

\end{itemize}

于是我们得到了递推关系

\begin{eqnarray}
    a_n & = & 9 a_{n-1} + b_{n-1} \nonumber\\
    b_n & = & a_{n-1} + 9 b_{n-1} \nonumber
\end{eqnarray}

我们再来讨论一下递推关系的初始条件。在这里，数字 0 不在我们的讨论%
范围之内（因为在 0 的末尾添加一个数字，仍然是个位数，而不是期望中%
的 2 位数）。

对于个位数而言，包含偶数个 5 的数即为不含数字 5 的数，%
它们是 $1,2,3,4,6,7,8,9.$ 共有 8 种，因此

\[
    a_1 = 8
\]

包含奇数个 5 的个位数也只有数 5 满足了，因此

\[
    b_1 = 1
\]

解这个递推关系得

\begin{eqnarray}
    a_n & = & {\frac {7}{16}}\,{8}^{n}+{\frac {9}{20}}\,{10}^{n}, \nonumber\\
    b_n & = & -{\frac {7}{16}}\,{8}^{n}+{\frac {9}{20}}\,{10}^{n}. \nonumber
\end{eqnarray}

\end{CJK}

\end{document}
